# -*- coding: utf-8 -*-
nds2 = """0  0  0  0  0
0  0  0  0  0
0  0  0  0  0
0  0  0  0  0


0  0  0  0  0
0  0  0  1  0
5  4  3  2  1
0  0  0  3  0


0  0  0  0  0
0  0  0  0  0
0  0  0  0  0
0  0  0  0  0


#=== dimension 4

0  0  0  0  0
0  0  0  0  0
0  0  0  0  0
0  0  0  0  0


0  0  0  0  0
0  0  0  0  0
0  0  0  0  0
0  0  0  0  0


0  0  0  0  0
0  0  0  0  0
0  0  0  0  0
0  0  0  0  0


#=== dimension 4

"""
nds3 = """
nds3
0  0  0  0
0  0  0  0
0  0  0  0
0  0  0  0
0  0  0  0


0  0  5  0
0  0  4  0
0  0  3  0
0  1  2  3
0  0  1  0


0  0  0  0
0  0  0  0
0  0  0  0
0  0  0  0
0  0  0  0


#=== dimension 4

0  0  0  0
0  0  0  0
0  0  0  0
0  0  0  0
0  0  0  0


0  0  0  0
0  0  0  0
0  0  0  0
0  0  0  0
0  0  0  0


0  0  0  0
0  0  0  0
0  0  0  0
0  0  0  0
0  0  0  0


#=== dimension 4


"""
out_MetaData = """MetaData.toString with extra

+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+------------+---------------+-------------------+
| name         | value              | unit | type     | valid | default         | code       | description       | fits_keywo | id_zh_cn      | descriptio        |
|              |                    |      |          |       |                 |            |                   | rd         |               | n_zh_cn           |
+==============+====================+======+==========+=======+=================+============+===================+============+===============+===================+
| description  | MetaData.toString  |      | string   | None  | UNKNOWN         | B          | Description of    | DESC       | 描述          | 对本产品的 描述。 |
|              | with extra         |      |          |       |                 |            | this product      |            |               |                   |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+------------+---------------+-------------------+
| type         | Product            |      | string   | None  | Product         | B          | Product Type      | TYPE       | 产品类型      | 产品类型。        |
|              |                    |      |          |       |                 |            | identification.   |            |               | 完整Python        |
|              |                    |      |          |       |                 |            | Name of class or  |            |               | 类名或卡片 名。   |
|              |                    |      |          |       |                 |            | CARD.             |            |               |                   |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+------------+---------------+-------------------+
| level        | ALL                |      | string   | None  | ALL             | B          | Product level.    | LEVEL      | 产品xx        | 产品xx            |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+------------+---------------+-------------------+
| creator      | UNKNOWN            |      | string   | None  | UNKNOWN         | B          | Generator of this | CREATOR    | 本产品生成 者 | 本产品生成        |
|              |                    |      |          |       |                 |            | product.          |            |               | 方的标识，        |
|              |                    |      |          |       |                 |            |                   |            |               | 例如可以是        |
|              |                    |      |          |       |                 |            |                   |            |               | 单位、组织        |
|              |                    |      |          |       |                 |            |                   |            |               | 、姓名、软        |
|              |                    |      |          |       |                 |            |                   |            |               | 件、或特别        |
|              |                    |      |          |       |                 |            |                   |            |               | 算法等。          |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+------------+---------------+-------------------+
| creationDate | 1958-01-01T00:00:0 |      | finetime | None  | 1958-01-01T00:0 | %Y-%m-%dT% | Creation date of  | DATE       | 产品生成时 间 | 本产品生成 时间   |
|              | 0.000000 0         |      |          |       | 0:00.000000 0   | H:%M:%S.%f | this product      |            |               |                   |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+------------+---------------+-------------------+
| rootCause    | UNKNOWN            |      | string   | None  | UNKNOWN         | B          | Reason of this    | ROOTCAUS   | 数据来源      | 数据来源（        |
|              |                    |      |          |       |                 |            | run of pipeline.  |            |               | 此例来自鉴        |
|              |                    |      |          |       |                 |            |                   |            |               | 定件热真空 罐）   |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+------------+---------------+-------------------+
| version      | 0.8                |      | string   | None  | 0.8             | B          | Version of        | VERSION    | 版本          | 产品版本          |
|              |                    |      |          |       |                 |            | product           |            |               |                   |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+------------+---------------+-------------------+
| FORMATV      | 1.6.0.10           |      | string   | None  | 1.6.0.10        | B          | Version of        | FORMATV    | 格式版本      | 产品格式版 本     |
|              |                    |      |          |       |                 |            | product schema    |            |               |                   |
|              |                    |      |          |       |                 |            | and revision      |            |               |                   |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+------------+---------------+-------------------+
| startDate    | 1958-01-01T00:00:0 |      | finetime | None  | 1958-01-01T00:0 | %Y-%m-%dT% | Nominal start     | DATE-OBS   | 产品的标称    | 产品标称的        |
|              | 0.000000 0         |      |          |       | 0:00.000000 0   | H:%M:%S.%f | time  of this     |            | 起始时间      | 起始时间          |
|              |                    |      |          |       |                 |            | product.          |            |               |                   |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+------------+---------------+-------------------+
| endDate      | 1958-01-01T00:00:0 |      | finetime | None  | 1958-01-01T00:0 | %Y-%m-%dT% | Nominal end time  | DATE-END   | 产品的标称    | 产品标称的        |
|              | 0.000000 0         |      |          |       | 0:00.000000 0   | H:%M:%S.%f | of this  product. |            | 结束时间      | 结束时间          |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+------------+---------------+-------------------+
| instrument   | UNKNOWN            |      | string   | None  | UNKNOWN         | B          | Instrument that   | INSTRUME   | 观测仪器名 称 | 观测仪器名 称     |
|              |                    |      |          |       |                 |            | generated data of |            |               |                   |
|              |                    |      |          |       |                 |            | this product      |            |               |                   |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+------------+---------------+-------------------+
| modelName    | UNKNOWN            |      | string   | None  | UNKNOWN         | B          | Model name of the | MODEL      | 样机名称      | 观测仪器样 机名称 |
|              |                    |      |          |       |                 |            | instrument of     |            |               |                   |
|              |                    |      |          |       |                 |            | this product      |            |               |                   |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+------------+---------------+-------------------+
| mission      | _AGS               |      | string   | None  | _AGS            | B          | Name of the       | TELESCOP   | 任务名称      | 任务名称          |
|              |                    |      |          |       |                 |            | mission.          |            |               |                   |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+------------+---------------+-------------------+
| listeners    | <No listener>      |      |          |       |                 |            |                   |            |               |                   |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+------------+---------------+-------------------+
tablefmt = html

+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+
| name         | value              | unit | type     | valid | default         | code       | description       |
+==============+====================+======+==========+=======+=================+============+===================+
| description  | MetaData.toString  |      | string   | None  | UNKNOWN         | B          | Description of    |
|              | with extra         |      |          |       |                 |            | this product      |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+
| type         | Product            |      | string   | None  | Product         | B          | Product Type      |
|              |                    |      |          |       |                 |            | identification.   |
|              |                    |      |          |       |                 |            | Name of class or  |
|              |                    |      |          |       |                 |            | CARD.             |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+
| level        | ALL                |      | string   | None  | ALL             | B          | Product level.    |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+
| creator      | UNKNOWN            |      | string   | None  | UNKNOWN         | B          | Generator of this |
|              |                    |      |          |       |                 |            | product.          |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+
| creationDate | 1958-01-01T00:00:0 |      | finetime | None  | 1958-01-01T00:0 | %Y-%m-%dT% | Creation date of  |
|              | 0.000000 0         |      |          |       | 0:00.000000 0   | H:%M:%S.%f | this product      |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+
| rootCause    | UNKNOWN            |      | string   | None  | UNKNOWN         | B          | Reason of this    |
|              |                    |      |          |       |                 |            | run of pipeline.  |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+
| version      | 0.8                |      | string   | None  | 0.8             | B          | Version of        |
|              |                    |      |          |       |                 |            | product           |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+
| FORMATV      | 1.6.0.10           |      | string   | None  | 1.6.0.10        | B          | Version of        |
|              |                    |      |          |       |                 |            | product schema    |
|              |                    |      |          |       |                 |            | and revision      |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+
| startDate    | 1958-01-01T00:00:0 |      | finetime | None  | 1958-01-01T00:0 | %Y-%m-%dT% | Nominal start     |
|              | 0.000000 0         |      |          |       | 0:00.000000 0   | H:%M:%S.%f | time  of this     |
|              |                    |      |          |       |                 |            | product.          |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+
| endDate      | 1958-01-01T00:00:0 |      | finetime | None  | 1958-01-01T00:0 | %Y-%m-%dT% | Nominal end time  |
|              | 0.000000 0         |      |          |       | 0:00.000000 0   | H:%M:%S.%f | of this  product. |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+
| instrument   | UNKNOWN            |      | string   | None  | UNKNOWN         | B          | Instrument that   |
|              |                    |      |          |       |                 |            | generated data of |
|              |                    |      |          |       |                 |            | this product      |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+
| modelName    | UNKNOWN            |      | string   | None  | UNKNOWN         | B          | Model name of the |
|              |                    |      |          |       |                 |            | instrument of     |
|              |                    |      |          |       |                 |            | this product      |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+
| mission      | _AGS               |      | string   | None  | _AGS            | B          | Name of the       |
|              |                    |      |          |       |                 |            | mission.          |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+
| listeners    | <No listener>      |      |          |       |                 |            |                   |
+--------------+--------------------+------+----------+-------+-----------------+------------+-------------------+"""
out_Dataset = """level 0
                                                     ******************                                                    
                                                     *** Dataset () ***                                                    
                                                            META                                                           
+-----------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| name      | value              | unit | type     | valid              | default         | code       | description      |
+===========+====================+======+==========+====================+=================+============+==================+
| a         | 3.4                | None | float    | (0, 31): valid 99: | 2.0             | None       | rule name, if is |
|           |                    |      |          |                    |                 |            | "valid", "", or  |
|           |                    |      |          |                    |                 |            | "default", is    |
|           |                    |      |          |                    |                 |            | ommited in value |
|           |                    |      |          |                    |                 |            | string.          |
+-----------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| b         | xy (2019-02-19T01: |      | finetime | (0, 9876543210123  | 1958-01-01T00:0 | %Y-%m-%dT% | date param       |
|           | 02:03.456789       |      |          | 456): xy           | 0:00.000099 99  | H:%M:%S.%f |                  |
|           | 1929229360456789)  |      |          |                    |                 |            |                  |
+-----------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| c         | Invalid (IJK)      |      | string   | '': empty          | cliche          | B          | this is a string |
|           |                    |      |          |                    |                 |            | parameter. but   |
|           |                    |      |          |                    |                 |            | only "" is       |
|           |                    |      |          |                    |                 |            | allowed.         |
+-----------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| d         | off (0b00)         | None | binary   | 11000 0b01: on     | 0b0             | H          | valid rules      |
|           |                    |      |          | 11000 0b00: off    |                 |            | described with   |
|           |                    |      |          |                    |                 |            | binary masks     |
+-----------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| listeners | <No listener>      |      |          |                    |                 |            |                  |
+-----------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
                                                            DATA                                                           
                                                            ----                                                           
88.8
...

===========================================================================================================================

level 1, repr
                     *** Dataset () ***                    

-------------  --------------------------  ----------------
a= 3.4         b= xy (2019-02-19T01:02:03  c= Invalid (IJK)
               .456789
               1929229360456789)
d= off (0b00)  listeners= <No listener>
-------------  --------------------------  ----------------

                            DATA                           
                            ----                           
88.8
...

===========================================================

level 2,
Dataset{ 88.8, description = "test Dataset", meta = <MetaData a=(float: 3.4 <None>), b=(finetime: xy (FineTime(2019-02-19
01:02:03.456789)) <>), c=(string: Invalid (IJK) <>), d=(binary: off (0b00) <None>), ...> }
tablefmt = html
                                                     ******************                                                    
                                                     *** Dataset () ***                                                    
                                                            META                                                           
+-----------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| name      | value              | unit | type     | valid              | default         | code       | description      |
+===========+====================+======+==========+====================+=================+============+==================+
| a         | 3.4                | None | float    | (0, 31): valid 99: | 2.0             | None       | rule name, if is |
|           |                    |      |          |                    |                 |            | "valid", "", or  |
|           |                    |      |          |                    |                 |            | "default", is    |
|           |                    |      |          |                    |                 |            | ommited in value |
|           |                    |      |          |                    |                 |            | string.          |
+-----------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| b         | xy (2019-02-19T01: |      | finetime | (0, 9876543210123  | 1958-01-01T00:0 | %Y-%m-%dT% | date param       |
|           | 02:03.456789       |      |          | 456): xy           | 0:00.000099 99  | H:%M:%S.%f |                  |
|           | 1929229360456789)  |      |          |                    |                 |            |                  |
+-----------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| c         | Invalid (IJK)      |      | string   | '': empty          | cliche          | B          | this is a string |
|           |                    |      |          |                    |                 |            | parameter. but   |
|           |                    |      |          |                    |                 |            | only "" is       |
|           |                    |      |          |                    |                 |            | allowed.         |
+-----------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| d         | off (0b00)         | None | binary   | 11000 0b01: on     | 0b0             | H          | valid rules      |
|           |                    |      |          | 11000 0b00: off    |                 |            | described with   |
|           |                    |      |          |                    |                 |            | binary masks     |
+-----------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| listeners | <No listener>      |      |          |                    |                 |            |                  |
+-----------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
                                                            DATA                                                           
                                                            ----                                                           
88.8
...

===========================================================================================================================

"""
out_ArrayDataset = """

level 0
                                            *****************************************                                            
                                            *** ArrayDataset (toString tester AD) ***                                            
                                                               META                                                              
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| name            | value              | unit | type     | valid              | default         | code       | description      |
+=================+====================+======+==========+====================+=================+============+==================+
| description     | toString tester AD |      | string   | None               | UNKNOWN         | B          | Description of   |
|                 |                    |      |          |                    |                 |            | this dataset     |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| shape           | (2, 3, 4, 5)       |      | tuple    | None               | ()              |            | Number of        |
|                 |                    |      |          |                    |                 |            | elements in each |
|                 |                    |      |          |                    |                 |            | dimension. Quick |
|                 |                    |      |          |                    |                 |            | changers to the  |
|                 |                    |      |          |                    |                 |            | right.           |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| type            | ArrayDataset       |      | string   | None               | ArrayDataset    | B          | Data Type        |
|                 |                    |      |          |                    |                 |            | identification.  |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| unit            | lyr                |      | string   | None               | None            | B          | Unit of every    |
|                 |                    |      |          |                    |                 |            | element.         |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| typecode        | UNKNOWN            |      | string   | None               | UNKNOWN         | B          | Python internal  |
|                 |                    |      |          |                    |                 |            | storage code.    |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| version         | 0.1                |      | string   | None               | 0.1             | B          | Version of       |
|                 |                    |      |          |                    |                 |            | dataset          |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| FORMATV         | 1.6.0.2            |      | string   | None               | 1.6.0.2         | B          | Version of       |
|                 |                    |      |          |                    |                 |            | dataset schema   |
|                 |                    |      |          |                    |                 |            | and revision     |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| a               | 3.4                | None | float    | (0, 31): valid 99: | 2.0             | None       | rule name, if is |
|                 |                    |      |          |                    |                 |            | "valid", "", or  |
|                 |                    |      |          |                    |                 |            | "default", is    |
|                 |                    |      |          |                    |                 |            | ommited in value |
|                 |                    |      |          |                    |                 |            | string.          |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| b               | xy (2019-02-19T01: |      | finetime | (0, 9876543210123  | 1958-01-01T00:0 | %Y-%m-%dT% | date param       |
|                 | 02:03.456789       |      |          | 456): xy           | 0:00.000099 99  | H:%M:%S.%f |                  |
|                 | 1929229360456789)  |      |          |                    |                 |            |                  |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| c               | Invalid (IJK)      |      | string   | '': empty          | cliche          | B          | this is a string |
|                 |                    |      |          |                    |                 |            | parameter. but   |
|                 |                    |      |          |                    |                 |            | only "" is       |
|                 |                    |      |          |                    |                 |            | allowed.         |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| d               | off (0b00)         | None | binary   | 11000 0b01: on     | 0b0             | H          | valid rules      |
|                 |                    |      |          | 11000 0b00: off    |                 |            | described with   |
|                 |                    |      |          |                    |                 |            | binary masks     |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| added_parameter | 42                 | None | integer  | None               | None            | None       | A non-builtin    |
|                 |                    |      |          |                    |                 |            | param            |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| listeners       | <No listener>      |      |          |                    |                 |            |                  |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
                                                               DATA                                                              
                                                               ----                                                              
0  0  0  0  0
0  0  0  0  0
0  0  0  0  0
0  0  0  0  0


0  0  0  0  0
0  0  0  1  0
5  4  3  2  1
0  0  0  3  0


0  0  0  0  0
0  0  0  0  0
0  0  0  0  0
0  0  0  0  0


#=== dimension 4

0  0  0  0  0
0  0  0  0  0
0  0  0  0  0
0  0  0  0  0


0  0  0  0  0
0  0  0  0  0
0  0  0  0  0
0  0  0  0  0


0  0  0  0  0
0  0  0  0  0
0  0  0  0  0
0  0  0  0  0


#=== dimension 4


=================================================================================================================================



level 1
                *** ArrayDataset (toString tester AD) ***                

------------------------  -------------------  --------------------------
description= toString     shape= (2, 3, 4, 5)  type= ArrayDataset
tester AD
unit= lyr                 typecode= UNKNOWN    version= 0.1
FORMATV= 1.6.0.2          a= 3.4               b= xy (2019-02-19T01:02:03
                                               .456789
                                               1929229360456789)
c= Invalid (IJK)          d= off (0b00)        added_parameter= 42
listeners= <No listener>
------------------------  -------------------  --------------------------

0  0  0  0  0
0  0  0  0  0
0  0  0  0  0
0  0  0  0  0


0  0  0  0  0
0  0  0  1  0
5  4  3  2  1
0  0  0  3  0


0  0  0  0  0
0  0  0  0  0
0  0  0  0  0
0  0  0  0  0


#=== dimension 4

0  0  0  0  0
0  0  0  0  0
0  0  0  0  0
0  0  0  0  0


0  0  0  0  0
0  0  0  0  0
0  0  0  0  0
0  0  0  0  0


0  0  0  0  0
0  0  0  0  0
0  0  0  0  0
0  0  0  0  0


#=== dimension 4


=========================================================================



level 2, repr
ArrayDataset(<MetaData description=(string: toString tester AD <>), shape=(tuple: (2, 3, 4, 5) <>), unit=(string: lyr <>), a=(float: 3.4 <None>), b=(finetime: xy (FineTime(2019-02-19
01:02:03.456789)) <>), c=(string: Invalid (IJK) <>), d=(binary: off (0b00) <None>), added_parameter=(integer: 42 <None>), ...> data= [[[[0, 0, 0, ...0]]], [[[0, 0, 0, ...0]]]])

an empty meta and long data level 2: 
ArrayDataset(<MetaData shape=(tuple: (8,) <>), ...> data= [8, 8, 8, 8, 8, 8, 8, 8])
tablefmt = html
                                            *****************************************                                            
                                            *** ArrayDataset (toString tester AD) ***                                            
                                                               META                                                              
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| name            | value              | unit | type     | valid              | default         | code       | description      |
+=================+====================+======+==========+====================+=================+============+==================+
| description     | toString tester AD |      | string   | None               | UNKNOWN         | B          | Description of   |
|                 |                    |      |          |                    |                 |            | this dataset     |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| shape           | (2, 3, 4, 5)       |      | tuple    | None               | ()              |            | Number of        |
|                 |                    |      |          |                    |                 |            | elements in each |
|                 |                    |      |          |                    |                 |            | dimension. Quick |
|                 |                    |      |          |                    |                 |            | changers to the  |
|                 |                    |      |          |                    |                 |            | right.           |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| type            | ArrayDataset       |      | string   | None               | ArrayDataset    | B          | Data Type        |
|                 |                    |      |          |                    |                 |            | identification.  |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| unit            | lyr                |      | string   | None               | None            | B          | Unit of every    |
|                 |                    |      |          |                    |                 |            | element.         |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| typecode        | UNKNOWN            |      | string   | None               | UNKNOWN         | B          | Python internal  |
|                 |                    |      |          |                    |                 |            | storage code.    |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| version         | 0.1                |      | string   | None               | 0.1             | B          | Version of       |
|                 |                    |      |          |                    |                 |            | dataset          |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| FORMATV         | 1.6.0.2            |      | string   | None               | 1.6.0.2         | B          | Version of       |
|                 |                    |      |          |                    |                 |            | dataset schema   |
|                 |                    |      |          |                    |                 |            | and revision     |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| a               | 3.4                | None | float    | (0, 31): valid 99: | 2.0             | None       | rule name, if is |
|                 |                    |      |          |                    |                 |            | "valid", "", or  |
|                 |                    |      |          |                    |                 |            | "default", is    |
|                 |                    |      |          |                    |                 |            | ommited in value |
|                 |                    |      |          |                    |                 |            | string.          |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| b               | xy (2019-02-19T01: |      | finetime | (0, 9876543210123  | 1958-01-01T00:0 | %Y-%m-%dT% | date param       |
|                 | 02:03.456789       |      |          | 456): xy           | 0:00.000099 99  | H:%M:%S.%f |                  |
|                 | 1929229360456789)  |      |          |                    |                 |            |                  |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| c               | Invalid (IJK)      |      | string   | '': empty          | cliche          | B          | this is a string |
|                 |                    |      |          |                    |                 |            | parameter. but   |
|                 |                    |      |          |                    |                 |            | only "" is       |
|                 |                    |      |          |                    |                 |            | allowed.         |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| d               | off (0b00)         | None | binary   | 11000 0b01: on     | 0b0             | H          | valid rules      |
|                 |                    |      |          | 11000 0b00: off    |                 |            | described with   |
|                 |                    |      |          |                    |                 |            | binary masks     |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| added_parameter | 42                 | None | integer  | None               | None            | None       | A non-builtin    |
|                 |                    |      |          |                    |                 |            | param            |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
| listeners       | <No listener>      |      |          |                    |                 |            |                  |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+------------------+
                                                               DATA                                                              
                                                               ----                                                              
0  0  0  0  0
0  0  0  0  0
0  0  0  0  0
0  0  0  0  0


0  0  0  0  0
0  0  0  1  0
5  4  3  2  1
0  0  0  3  0


0  0  0  0  0
0  0  0  0  0
0  0  0  0  0
0  0  0  0  0


#=== dimension 4

0  0  0  0  0
0  0  0  0  0
0  0  0  0  0
0  0  0  0  0


0  0  0  0  0
0  0  0  0  0
0  0  0  0  0
0  0  0  0  0


0  0  0  0  0
0  0  0  0  0
0  0  0  0  0
0  0  0  0  0


#=== dimension 4


=================================================================================================================================

"""
out_TableDataset = """

level 0
                                                  ******************************                                                  
                                                  *** TableDataset (UNKNOWN) ***                                                  
                                                               META                                                               
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| name            | value              | unit | type     | valid              | default         | code       | description       |
+=================+====================+======+==========+====================+=================+============+===================+
| description     | UNKNOWN            |      | string   | None               | UNKNOWN         | B          | Description of    |
|                 |                    |      |          |                    |                 |            | this dataset      |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| shape           | (2, 3)             |      | tuple    | None               | ()              |            | Number of columns |
|                 |                    |      |          |                    |                 |            | and rows.         |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| type            | TableDataset       |      | string   | None               | TableDataset    | B          | Data Type         |
|                 |                    |      |          |                    |                 |            | identification.   |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| version         | 0.1                |      | string   | None               | 0.1             | B          | Version of        |
|                 |                    |      |          |                    |                 |            | dataset           |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| FORMATV         | 1.6.0.2            |      | string   | None               | 1.6.0.2         | B          | Version of        |
|                 |                    |      |          |                    |                 |            | dataset schema    |
|                 |                    |      |          |                    |                 |            | and revision      |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| a               | 3.4                | None | float    | (0, 31): valid 99: | 2.0             | None       | rule name, if is  |
|                 |                    |      |          |                    |                 |            | "valid", "", or   |
|                 |                    |      |          |                    |                 |            | "default", is     |
|                 |                    |      |          |                    |                 |            | ommited in value  |
|                 |                    |      |          |                    |                 |            | string.           |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| b               | xy (2019-02-19T01: |      | finetime | (0, 9876543210123  | 1958-01-01T00:0 | %Y-%m-%dT% | date param        |
|                 | 02:03.456789       |      |          | 456): xy           | 0:00.000099 99  | H:%M:%S.%f |                   |
|                 | 1929229360456789)  |      |          |                    |                 |            |                   |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| c               | Invalid (IJK)      |      | string   | '': empty          | cliche          | B          | this is a string  |
|                 |                    |      |          |                    |                 |            | parameter. but    |
|                 |                    |      |          |                    |                 |            | only "" is        |
|                 |                    |      |          |                    |                 |            | allowed.          |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| d               | off (0b00)         | None | binary   | 11000 0b01: on     | 0b0             | H          | valid rules       |
|                 |                    |      |          | 11000 0b00: off    |                 |            | described with    |
|                 |                    |      |          |                    |                 |            | binary masks      |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| added_parameter | 42                 | None | integer  | None               | None            | None       | A non-builtin     |
|                 |                    |      |          |                    |                 |            | param             |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| listeners       | <No listener>      |      |          |                    |                 |            |                   |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
                                                               DATA                                                               
                                                               ----                                                               
  col1    col2
  (eV)   (cnt)
   1       0
   4.4    43.2
5400    2000

==================================================================================================================================



level 1
                     *** TableDataset (UNKNOWN) ***                     

--------------------------  ------------------------  ------------------
description= UNKNOWN        shape= (2, 3)             type= TableDataset
version= 0.1                FORMATV= 1.6.0.2          a= 3.4
b= xy (2019-02-19T01:02:03  c= Invalid (IJK)          d= off (0b00)
.456789
1929229360456789)
added_parameter= 42         listeners= <No listener>
--------------------------  ------------------------  ------------------

  col1    col2
  (eV)   (cnt)
   1       0
   4.4    43.2
5400    2000

========================================================================



level 2, repr
TableDataset(<MetaData shape=(tuple: (2, 3) <>), a=(float: 3.4 <None>), b=(finetime: xy (FineTime(2019-02-19
01:02:03.456789)) <>), c=(string: Invalid (IJK) <>), d=(binary: off (0b00) <None>), added_parameter=(integer: 42 <None>), ...>data= {"col1": Column(<MetaData description=(string: 1 <>), shape=(tuple: (3,) <>), type=(string: Column <>), unit=(string: eV <>), ...> data= [1, 4.4, 5400.0]), "col2": Column(<MetaData description=(string: 2 <>), shape=(tuple: (3,) <>), type=(string: Column <>), unit=(string: cnt <>), ...> data= [0, 43.2, 2000.0])})

an empty level 2: 
TableDataset(<MetaData shape=(tuple: (0,) <>), ...>data= {})

grouped column names                                                  ******************************                                                  
                                                  *** TableDataset (UNKNOWN) ***                                                  
                                                               META                                                               
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| name            | value              | unit | type     | valid              | default         | code       | description       |
+=================+====================+======+==========+====================+=================+============+===================+
| description     | UNKNOWN            |      | string   | None               | UNKNOWN         | B          | Description of    |
|                 |                    |      |          |                    |                 |            | this dataset      |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| shape           | (9, 3)             |      | tuple    | None               | ()              |            | Number of columns |
|                 |                    |      |          |                    |                 |            | and rows.         |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| type            | TableDataset       |      | string   | None               | TableDataset    | B          | Data Type         |
|                 |                    |      |          |                    |                 |            | identification.   |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| version         | 0.1                |      | string   | None               | 0.1             | B          | Version of        |
|                 |                    |      |          |                    |                 |            | dataset           |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| FORMATV         | 1.6.0.2            |      | string   | None               | 1.6.0.2         | B          | Version of        |
|                 |                    |      |          |                    |                 |            | dataset schema    |
|                 |                    |      |          |                    |                 |            | and revision      |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| a               | 3.4                | None | float    | (0, 31): valid 99: | 2.0             | None       | rule name, if is  |
|                 |                    |      |          |                    |                 |            | "valid", "", or   |
|                 |                    |      |          |                    |                 |            | "default", is     |
|                 |                    |      |          |                    |                 |            | ommited in value  |
|                 |                    |      |          |                    |                 |            | string.           |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| b               | xy (2019-02-19T01: |      | finetime | (0, 9876543210123  | 1958-01-01T00:0 | %Y-%m-%dT% | date param        |
|                 | 02:03.456789       |      |          | 456): xy           | 0:00.000099 99  | H:%M:%S.%f |                   |
|                 | 1929229360456789)  |      |          |                    |                 |            |                   |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| c               | Invalid (IJK)      |      | string   | '': empty          | cliche          | B          | this is a string  |
|                 |                    |      |          |                    |                 |            | parameter. but    |
|                 |                    |      |          |                    |                 |            | only "" is        |
|                 |                    |      |          |                    |                 |            | allowed.          |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| d               | off (0b00)         | None | binary   | 11000 0b01: on     | 0b0             | H          | valid rules       |
|                 |                    |      |          | 11000 0b00: off    |                 |            | described with    |
|                 |                    |      |          |                    |                 |            | binary masks      |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| added_parameter | 42                 | None | integer  | None               | None            | None       | A non-builtin     |
|                 |                    |      |          |                    |                 |            | param             |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| listeners       | <No listener>      |      |          |                    |                 |            |                   |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
                                                               DATA                                                               
                                                               ----                                                               
                    group1       no-                   group2
                                group
--------------  --------------  ------  -----------------------------------
  col1    col2     val     err     val     val     err     seq  wgt
  (eV)   (cnt)    (eV)   (cnt)    (eV)    (eV)   (cnt)   (cnt)  (g)
------  ------  ------  ------  ------  ------  ------  ------  -----------
   1       0       1       0       1       1       0       0
   4.4    43.2     4.4    43.2     4.4     4.4    43.2    43.2  0.32
5400    2000    5400    2000    5400    5400    2000    2000    -9876543210

==================================================================================================================================

                                                  ******************************                                                  
                                                  *** TableDataset (UNKNOWN) ***                                                  
                                                               META                                                               
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| name            | value              | unit | type     | valid              | default         | code       | description       |
+=================+====================+======+==========+====================+=================+============+===================+
| description     | UNKNOWN            |      | string   | None               | UNKNOWN         | B          | Description of    |
|                 |                    |      |          |                    |                 |            | this dataset      |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| shape           | (9, 3)             |      | tuple    | None               | ()              |            | Number of columns |
|                 |                    |      |          |                    |                 |            | and rows.         |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| type            | TableDataset       |      | string   | None               | TableDataset    | B          | Data Type         |
|                 |                    |      |          |                    |                 |            | identification.   |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| version         | 0.1                |      | string   | None               | 0.1             | B          | Version of        |
|                 |                    |      |          |                    |                 |            | dataset           |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| FORMATV         | 1.6.0.2            |      | string   | None               | 1.6.0.2         | B          | Version of        |
|                 |                    |      |          |                    |                 |            | dataset schema    |
|                 |                    |      |          |                    |                 |            | and revision      |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| a               | 3.4                | None | float    | (0, 31): valid 99: | 2.0             | None       | rule name, if is  |
|                 |                    |      |          |                    |                 |            | "valid", "", or   |
|                 |                    |      |          |                    |                 |            | "default", is     |
|                 |                    |      |          |                    |                 |            | ommited in value  |
|                 |                    |      |          |                    |                 |            | string.           |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| b               | xy (2019-02-19T01: |      | finetime | (0, 9876543210123  | 1958-01-01T00:0 | %Y-%m-%dT% | date param        |
|                 | 02:03.456789       |      |          | 456): xy           | 0:00.000099 99  | H:%M:%S.%f |                   |
|                 | 1929229360456789)  |      |          |                    |                 |            |                   |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| c               | Invalid (IJK)      |      | string   | '': empty          | cliche          | B          | this is a string  |
|                 |                    |      |          |                    |                 |            | parameter. but    |
|                 |                    |      |          |                    |                 |            | only "" is        |
|                 |                    |      |          |                    |                 |            | allowed.          |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| d               | off (0b00)         | None | binary   | 11000 0b01: on     | 0b0             | H          | valid rules       |
|                 |                    |      |          | 11000 0b00: off    |                 |            | described with    |
|                 |                    |      |          |                    |                 |            | binary masks      |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| added_parameter | 42                 | None | integer  | None               | None            | None       | A non-builtin     |
|                 |                    |      |          |                    |                 |            | param             |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| listeners       | <No listener>      |      |          |                    |                 |            |                   |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
                                                               DATA                                                               
                                                               ----                                                               

======  ======  ======  ======  ======  ======  ======  ======  ===========
  ..                group1       no-                   group2
                                group
------  ------  --------------  ------  -----------------------------------
  col1    col2     val     err     val     val     err     seq  wgt
  (eV)   (cnt)    (eV)   (cnt)    (eV)    (eV)   (cnt)   (cnt)  (g)
======  ======  ======  ======  ======  ======  ======  ======  ===========
   1       0       1       0       1       1       0       0
   4.4    43.2     4.4    43.2     4.4     4.4    43.2    43.2  0.32
5400    2000    5400    2000    5400    5400    2000    2000    -9876543210
======  ======  ======  ======  ======  ======  ======  ======  ===========

==================================================================================================================================

                                                  ******************************                                                  
                                                  *** TableDataset (UNKNOWN) ***                                                  
                                                               META                                                               
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| name            | value              | unit | type     | valid              | default         | code       | description       |
+=================+====================+======+==========+====================+=================+============+===================+
| description     | UNKNOWN            |      | string   | None               | UNKNOWN         | B          | Description of    |
|                 |                    |      |          |                    |                 |            | this dataset      |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| shape           | (9, 3)             |      | tuple    | None               | ()              |            | Number of columns |
|                 |                    |      |          |                    |                 |            | and rows.         |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| type            | TableDataset       |      | string   | None               | TableDataset    | B          | Data Type         |
|                 |                    |      |          |                    |                 |            | identification.   |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| version         | 0.1                |      | string   | None               | 0.1             | B          | Version of        |
|                 |                    |      |          |                    |                 |            | dataset           |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| FORMATV         | 1.6.0.2            |      | string   | None               | 1.6.0.2         | B          | Version of        |
|                 |                    |      |          |                    |                 |            | dataset schema    |
|                 |                    |      |          |                    |                 |            | and revision      |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| a               | 3.4                | None | float    | (0, 31): valid 99: | 2.0             | None       | rule name, if is  |
|                 |                    |      |          |                    |                 |            | "valid", "", or   |
|                 |                    |      |          |                    |                 |            | "default", is     |
|                 |                    |      |          |                    |                 |            | ommited in value  |
|                 |                    |      |          |                    |                 |            | string.           |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| b               | xy (2019-02-19T01: |      | finetime | (0, 9876543210123  | 1958-01-01T00:0 | %Y-%m-%dT% | date param        |
|                 | 02:03.456789       |      |          | 456): xy           | 0:00.000099 99  | H:%M:%S.%f |                   |
|                 | 1929229360456789)  |      |          |                    |                 |            |                   |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| c               | Invalid (IJK)      |      | string   | '': empty          | cliche          | B          | this is a string  |
|                 |                    |      |          |                    |                 |            | parameter. but    |
|                 |                    |      |          |                    |                 |            | only "" is        |
|                 |                    |      |          |                    |                 |            | allowed.          |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| d               | off (0b00)         | None | binary   | 11000 0b01: on     | 0b0             | H          | valid rules       |
|                 |                    |      |          | 11000 0b00: off    |                 |            | described with    |
|                 |                    |      |          |                    |                 |            | binary masks      |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| added_parameter | 42                 | None | integer  | None               | None            | None       | A non-builtin     |
|                 |                    |      |          |                    |                 |            | param             |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| listeners       | <No listener>      |      |          |                    |                 |            |                   |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
                                                               DATA                                                               
                                                               ----                                                               
+-----------------+-----------------+--------+----------------------------------------+
|                 |     group1      |  no-   |                 group2                 |
|                 |                 | group  |                                        |
+--------+--------+--------+--------+--------+--------+--------+--------+-------------+
|   col1 |   col2 |    val |    err |    val |    val |    err |    seq | wgt         |
|   (eV) |  (cnt) |   (eV) |  (cnt) |   (eV) |   (eV) |  (cnt) |  (cnt) | (g)         |
+========+========+========+========+========+========+========+========+=============+
|    1   |    0   |    1   |    0   |    1   |    1   |    0   |    0   |             |
+--------+--------+--------+--------+--------+--------+--------+--------+-------------+
|    4.4 |   43.2 |    4.4 |   43.2 |    4.4 |    4.4 |   43.2 |   43.2 | 0.32        |
+--------+--------+--------+--------+--------+--------+--------+--------+-------------+
| 5400   | 2000   | 5400   | 2000   | 5400   | 5400   | 2000   | 2000   | -9876543210 |
+--------+--------+--------+--------+--------+--------+--------+--------+-------------+

==================================================================================================================================

                                                  ******************************                                                  
                                                  *** TableDataset (UNKNOWN) ***                                                  
                                                               META                                                               
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| name            | value              | unit | type     | valid              | default         | code       | description       |
+=================+====================+======+==========+====================+=================+============+===================+
| description     | UNKNOWN            |      | string   | None               | UNKNOWN         | B          | Description of    |
|                 |                    |      |          |                    |                 |            | this dataset      |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| shape           | (9, 3)             |      | tuple    | None               | ()              |            | Number of columns |
|                 |                    |      |          |                    |                 |            | and rows.         |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| type            | TableDataset       |      | string   | None               | TableDataset    | B          | Data Type         |
|                 |                    |      |          |                    |                 |            | identification.   |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| version         | 0.1                |      | string   | None               | 0.1             | B          | Version of        |
|                 |                    |      |          |                    |                 |            | dataset           |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| FORMATV         | 1.6.0.2            |      | string   | None               | 1.6.0.2         | B          | Version of        |
|                 |                    |      |          |                    |                 |            | dataset schema    |
|                 |                    |      |          |                    |                 |            | and revision      |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| a               | 3.4                | None | float    | (0, 31): valid 99: | 2.0             | None       | rule name, if is  |
|                 |                    |      |          |                    |                 |            | "valid", "", or   |
|                 |                    |      |          |                    |                 |            | "default", is     |
|                 |                    |      |          |                    |                 |            | ommited in value  |
|                 |                    |      |          |                    |                 |            | string.           |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| b               | xy (2019-02-19T01: |      | finetime | (0, 9876543210123  | 1958-01-01T00:0 | %Y-%m-%dT% | date param        |
|                 | 02:03.456789       |      |          | 456): xy           | 0:00.000099 99  | H:%M:%S.%f |                   |
|                 | 1929229360456789)  |      |          |                    |                 |            |                   |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| c               | Invalid (IJK)      |      | string   | '': empty          | cliche          | B          | this is a string  |
|                 |                    |      |          |                    |                 |            | parameter. but    |
|                 |                    |      |          |                    |                 |            | only "" is        |
|                 |                    |      |          |                    |                 |            | allowed.          |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| d               | off (0b00)         | None | binary   | 11000 0b01: on     | 0b0             | H          | valid rules       |
|                 |                    |      |          | 11000 0b00: off    |                 |            | described with    |
|                 |                    |      |          |                    |                 |            | binary masks      |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| added_parameter | 42                 | None | integer  | None               | None            | None       | A non-builtin     |
|                 |                    |      |          |                    |                 |            | param             |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| listeners       | <No listener>      |      |          |                    |                 |            |                   |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
                                                               DATA                                                               
                                                               ----                                                               
╒═════════════════╤═════════════════╤════════╤════════════════════════════════════════╕
│                 │     group1      │  no-   │                 group2                 │
│                 │                 │ group  │                                        │
╒════════╤════════╤════════╤════════╤════════╤════════╤════════╤════════╤═════════════╕
│   col1 │   col2 │    val │    err │    val │    val │    err │    seq │ wgt         │
│   (eV) │  (cnt) │   (eV) │  (cnt) │   (eV) │   (eV) │  (cnt) │  (cnt) │ (g)         │
╞════════╪════════╪════════╪════════╪════════╪════════╪════════╪════════╪═════════════╡
│    1   │    0   │    1   │    0   │    1   │    1   │    0   │    0   │             │
├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┼─────────────┤
│    4.4 │   43.2 │    4.4 │   43.2 │    4.4 │    4.4 │   43.2 │   43.2 │ 0.32        │
├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┼─────────────┤
│ 5400   │ 2000   │ 5400   │ 2000   │ 5400   │ 5400   │ 2000   │ 2000   │ -9876543210 │
╘════════╧════════╧════════╧════════╧════════╧════════╧════════╧════════╧═════════════╛

==================================================================================================================================

                                                  ******************************                                                  
                                                  *** TableDataset (UNKNOWN) ***                                                  
                                                               META                                                               
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| name            | value              | unit | type     | valid              | default         | code       | description       |
+=================+====================+======+==========+====================+=================+============+===================+
| description     | UNKNOWN            |      | string   | None               | UNKNOWN         | B          | Description of    |
|                 |                    |      |          |                    |                 |            | this dataset      |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| shape           | (9, 3)             |      | tuple    | None               | ()              |            | Number of columns |
|                 |                    |      |          |                    |                 |            | and rows.         |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| type            | TableDataset       |      | string   | None               | TableDataset    | B          | Data Type         |
|                 |                    |      |          |                    |                 |            | identification.   |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| version         | 0.1                |      | string   | None               | 0.1             | B          | Version of        |
|                 |                    |      |          |                    |                 |            | dataset           |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| FORMATV         | 1.6.0.2            |      | string   | None               | 1.6.0.2         | B          | Version of        |
|                 |                    |      |          |                    |                 |            | dataset schema    |
|                 |                    |      |          |                    |                 |            | and revision      |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| a               | 3.4                | None | float    | (0, 31): valid 99: | 2.0             | None       | rule name, if is  |
|                 |                    |      |          |                    |                 |            | "valid", "", or   |
|                 |                    |      |          |                    |                 |            | "default", is     |
|                 |                    |      |          |                    |                 |            | ommited in value  |
|                 |                    |      |          |                    |                 |            | string.           |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| b               | xy (2019-02-19T01: |      | finetime | (0, 9876543210123  | 1958-01-01T00:0 | %Y-%m-%dT% | date param        |
|                 | 02:03.456789       |      |          | 456): xy           | 0:00.000099 99  | H:%M:%S.%f |                   |
|                 | 1929229360456789)  |      |          |                    |                 |            |                   |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| c               | Invalid (IJK)      |      | string   | '': empty          | cliche          | B          | this is a string  |
|                 |                    |      |          |                    |                 |            | parameter. but    |
|                 |                    |      |          |                    |                 |            | only "" is        |
|                 |                    |      |          |                    |                 |            | allowed.          |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| d               | off (0b00)         | None | binary   | 11000 0b01: on     | 0b0             | H          | valid rules       |
|                 |                    |      |          | 11000 0b00: off    |                 |            | described with    |
|                 |                    |      |          |                    |                 |            | binary masks      |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| added_parameter | 42                 | None | integer  | None               | None            | None       | A non-builtin     |
|                 |                    |      |          |                    |                 |            | param             |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| listeners       | <No listener>      |      |          |                    |                 |            |                   |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
                                                               DATA                                                               
                                                               ----                                                               
                group1  group1   no-    group2  group2  group2     group2
                                group
  col1    col2     val     err     val     val     err     seq  wgt
  (eV)   (cnt)    (eV)   (cnt)    (eV)    (eV)   (cnt)   (cnt)  (g)
   1       0       1       0       1       1       0       0
   4.4    43.2     4.4    43.2     4.4     4.4    43.2    43.2  0.32
5400    2000    5400    2000    5400    5400    2000    2000    -9876543210

==================================================================================================================================

                                                  ******************************                                                  
                                                  *** TableDataset (UNKNOWN) ***                                                  
                                                               META                                                               
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| name            | value              | unit | type     | valid              | default         | code       | description       |
+=================+====================+======+==========+====================+=================+============+===================+
| description     | UNKNOWN            |      | string   | None               | UNKNOWN         | B          | Description of    |
|                 |                    |      |          |                    |                 |            | this dataset      |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| shape           | (9, 3)             |      | tuple    | None               | ()              |            | Number of columns |
|                 |                    |      |          |                    |                 |            | and rows.         |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| type            | TableDataset       |      | string   | None               | TableDataset    | B          | Data Type         |
|                 |                    |      |          |                    |                 |            | identification.   |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| version         | 0.1                |      | string   | None               | 0.1             | B          | Version of        |
|                 |                    |      |          |                    |                 |            | dataset           |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| FORMATV         | 1.6.0.2            |      | string   | None               | 1.6.0.2         | B          | Version of        |
|                 |                    |      |          |                    |                 |            | dataset schema    |
|                 |                    |      |          |                    |                 |            | and revision      |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| a               | 3.4                | None | float    | (0, 31): valid 99: | 2.0             | None       | rule name, if is  |
|                 |                    |      |          |                    |                 |            | "valid", "", or   |
|                 |                    |      |          |                    |                 |            | "default", is     |
|                 |                    |      |          |                    |                 |            | ommited in value  |
|                 |                    |      |          |                    |                 |            | string.           |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| b               | xy (2019-02-19T01: |      | finetime | (0, 9876543210123  | 1958-01-01T00:0 | %Y-%m-%dT% | date param        |
|                 | 02:03.456789       |      |          | 456): xy           | 0:00.000099 99  | H:%M:%S.%f |                   |
|                 | 1929229360456789)  |      |          |                    |                 |            |                   |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| c               | Invalid (IJK)      |      | string   | '': empty          | cliche          | B          | this is a string  |
|                 |                    |      |          |                    |                 |            | parameter. but    |
|                 |                    |      |          |                    |                 |            | only "" is        |
|                 |                    |      |          |                    |                 |            | allowed.          |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| d               | off (0b00)         | None | binary   | 11000 0b01: on     | 0b0             | H          | valid rules       |
|                 |                    |      |          | 11000 0b00: off    |                 |            | described with    |
|                 |                    |      |          |                    |                 |            | binary masks      |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| added_parameter | 42                 | None | integer  | None               | None            | None       | A non-builtin     |
|                 |                    |      |          |                    |                 |            | param             |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| listeners       | <No listener>      |      |          |                    |                 |            |                   |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
                                                               DATA                                                               
                                                               ----                                                               
|                 |     group1      |  no-   |                 group2                 |
|                 |                 | group  |                                        |
|-----------------+-----------------+--------+----------------------------------------|
|   col1 |   col2 |    val |    err |    val |    val |    err |    seq | wgt         |
|   (eV) |  (cnt) |   (eV) |  (cnt) |   (eV) |   (eV) |  (cnt) |  (cnt) | (g)         |
|--------+--------+--------+--------+--------+--------+--------+--------+-------------|
|    1   |    0   |    1   |    0   |    1   |    1   |    0   |    0   |             |
|    4.4 |   43.2 |    4.4 |   43.2 |    4.4 |    4.4 |   43.2 |   43.2 | 0.32        |
| 5400   | 2000   | 5400   | 2000   | 5400   | 5400   | 2000   | 2000   | -9876543210 |

==================================================================================================================================

                                                  ******************************                                                  
                                                  *** TableDataset (UNKNOWN) ***                                                  
                                                               META                                                               
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| name            | value              | unit | type     | valid              | default         | code       | description       |
+=================+====================+======+==========+====================+=================+============+===================+
| description     | UNKNOWN            |      | string   | None               | UNKNOWN         | B          | Description of    |
|                 |                    |      |          |                    |                 |            | this dataset      |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| shape           | (9, 3)             |      | tuple    | None               | ()              |            | Number of columns |
|                 |                    |      |          |                    |                 |            | and rows.         |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| type            | TableDataset       |      | string   | None               | TableDataset    | B          | Data Type         |
|                 |                    |      |          |                    |                 |            | identification.   |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| version         | 0.1                |      | string   | None               | 0.1             | B          | Version of        |
|                 |                    |      |          |                    |                 |            | dataset           |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| FORMATV         | 1.6.0.2            |      | string   | None               | 1.6.0.2         | B          | Version of        |
|                 |                    |      |          |                    |                 |            | dataset schema    |
|                 |                    |      |          |                    |                 |            | and revision      |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| a               | 3.4                | None | float    | (0, 31): valid 99: | 2.0             | None       | rule name, if is  |
|                 |                    |      |          |                    |                 |            | "valid", "", or   |
|                 |                    |      |          |                    |                 |            | "default", is     |
|                 |                    |      |          |                    |                 |            | ommited in value  |
|                 |                    |      |          |                    |                 |            | string.           |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| b               | xy (2019-02-19T01: |      | finetime | (0, 9876543210123  | 1958-01-01T00:0 | %Y-%m-%dT% | date param        |
|                 | 02:03.456789       |      |          | 456): xy           | 0:00.000099 99  | H:%M:%S.%f |                   |
|                 | 1929229360456789)  |      |          |                    |                 |            |                   |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| c               | Invalid (IJK)      |      | string   | '': empty          | cliche          | B          | this is a string  |
|                 |                    |      |          |                    |                 |            | parameter. but    |
|                 |                    |      |          |                    |                 |            | only "" is        |
|                 |                    |      |          |                    |                 |            | allowed.          |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| d               | off (0b00)         | None | binary   | 11000 0b01: on     | 0b0             | H          | valid rules       |
|                 |                    |      |          | 11000 0b00: off    |                 |            | described with    |
|                 |                    |      |          |                    |                 |            | binary masks      |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| added_parameter | 42                 | None | integer  | None               | None            | None       | A non-builtin     |
|                 |                    |      |          |                    |                 |            | param             |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| listeners       | <No listener>      |      |          |                    |                 |            |                   |
+-----------------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
                                                               DATA                                                               
                                                               ----                                                               
+-----------------+-----------------+--------+----------------------------------------+
|                 |     group1      |  no-   |                 group2                 |
|                 |                 | group  |                                        |
+--------+--------+--------+--------+--------+--------+--------+--------+-------------+
|   col1 |   col2 |    val |    err |    val |    val |    err |    seq | wgt         |
|   (eV) |  (cnt) |   (eV) |  (cnt) |   (eV) |   (eV) |  (cnt) |  (cnt) | (g)         |
|--------+--------+--------+--------+--------+--------+--------+--------+-------------|
|    1   |    0   |    1   |    0   |    1   |    1   |    0   |    0   |             |
|    4.4 |   43.2 |    4.4 |   43.2 |    4.4 |    4.4 |   43.2 |   43.2 | 0.32        |
| 5400   | 2000   | 5400   | 2000   | 5400   | 5400   | 2000   | 2000   | -9876543210 |
+--------+--------+--------+--------+--------+--------+--------+--------+-------------+

==================================================================================================================================

<center>*************************************</center>
<center>*** <b>TableDataset (UNKNOWN)</b> ***</center>
<center><u>META</u></center>
<table>
<thead>
<tr><th>name           </th><th>value        </th><th>unit</th><th>type    </th><th>valid    </th><th>default     </th><th>code</th><th>description       </th></tr>
</thead>
<tbody>
<tr><td>description    </td><td>UNKNOWN      </td><td>    </td><td>string  </td><td>None     </td><td>UNKNOWN     </td><td>B   </td><td>Description of
this dataset                   </td></tr>
<tr><td>shape          </td><td>(9, 3)       </td><td>    </td><td>tuple   </td><td>None     </td><td>()          </td><td>    </td><td>Number of columns
and rows.                   </td></tr>
<tr><td>type           </td><td>TableDataset </td><td>    </td><td>string  </td><td>None     </td><td>TableDataset</td><td>B   </td><td>Data Type
identification.                   </td></tr>
<tr><td>version        </td><td>0.1          </td><td>    </td><td>string  </td><td>None     </td><td>0.1         </td><td>B   </td><td>Version of dataset</td></tr>
<tr><td>FORMATV        </td><td>1.6.0.2      </td><td>    </td><td>string  </td><td>None     </td><td>1.6.0.2     </td><td>B   </td><td>Version of dataset
schema and
<br>revision                   </td></tr>
<tr><td>a              </td><td>3.4          </td><td>None</td><td>float   </td><td>(0, 31):
valid<br>99:          </td><td>2.0         </td><td>None</td><td>rule name, if is
"valid", "", or
<br>"default", is
ommited in value
<br>string.                   </td></tr>
<tr><td>b              </td><td>xy (2019-02-19T01:
02:03.456789<br>19
29229360456789)              </td><td>    </td><td>finetime</td><td>(0,
9876543210123456):
xy          </td><td>1958-01-01T00:00:0
0.000099<br>99             </td><td>%Y-%m-%dT%H:%M:%S.
%f     </td><td>date param        </td></tr>
<tr><td>c              </td><td>Invalid (IJK)</td><td>    </td><td>string  </td><td>'': empty</td><td>cliche      </td><td>B   </td><td>this is a string
parameter. but
only<br> "" is
allowed.                   </td></tr>
<tr><td>d              </td><td>off (0b00)   </td><td>None</td><td>binary  </td><td>11000 0b01:
on<br>11000 0b00:
off          </td><td>0b0         </td><td>H   </td><td>valid rules
described with
binary <br>masks                   </td></tr>
<tr><td>added_parameter</td><td>42           </td><td>None</td><td>integer </td><td>None     </td><td>None        </td><td>None</td><td>A non-builtin
param                   </td></tr>
<tr><td>listeners      </td><td><No listener></td><td>    </td><td>        </td><td>         </td><td>            </td><td>    </td><td>                  </td></tr>
</tbody>
</table>
<center><u>DATA</u></center>
<table>
<thead>
<tr><th style="text-align: right;">col1<br>(eV)</th><th style="text-align: right;">col2<br>(cnt)</th><th style="text-align: right;">group1.<br>val<br>(eV)</th><th style="text-align: right;">group1.<br>err<br>(cnt)</th><th style="text-align: right;">no-group.<br>val<br>(eV)</th><th style="text-align: right;">group2.<br>val<br>(eV)</th><th style="text-align: right;">group2.<br>err<br>(cnt)</th><th style="text-align: right;">group2.<br>seq<br>(cnt)</th><th>group2.<br>wgt<br>(g)</th></tr>
</thead>
<tbody>
<tr><td style="text-align: right;">         1  </td><td style="text-align: right;">          0  </td><td style="text-align: right;">                   1  </td><td style="text-align: right;">                    0  </td><td style="text-align: right;">                     1  </td><td style="text-align: right;">                   1  </td><td style="text-align: right;">                    0  </td><td style="text-align: right;">                    0  </td><td>                     </td></tr>
<tr><td style="text-align: right;">         4.4</td><td style="text-align: right;">         43.2</td><td style="text-align: right;">                   4.4</td><td style="text-align: right;">                   43.2</td><td style="text-align: right;">                     4.4</td><td style="text-align: right;">                   4.4</td><td style="text-align: right;">                   43.2</td><td style="text-align: right;">                   43.2</td><td>0.32                 </td></tr>
<tr><td style="text-align: right;">      5400  </td><td style="text-align: right;">       2000  </td><td style="text-align: right;">                5400  </td><td style="text-align: right;">                 2000  </td><td style="text-align: right;">                  5400  </td><td style="text-align: right;">                5400  </td><td style="text-align: right;">                 2000  </td><td style="text-align: right;">                 2000  </td><td>-9876543210          </td></tr>
</tbody>
</table>

<hr size="3"><br>


"""
out_CompositeDataset = """level 0
                                                ***************************                                                 
                                                *** CompositeDataset () ***                                                 
                                                            META                                                            
+-----------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| name      | value              | unit | type     | valid              | default         | code       | description       |
+===========+====================+======+==========+====================+=================+============+===================+
| a         | 3.4                | None | float    | (0, 31): valid 99: | 2.0             | None       | rule name, if is  |
|           |                    |      |          |                    |                 |            | "valid", "", or   |
|           |                    |      |          |                    |                 |            | "default", is     |
|           |                    |      |          |                    |                 |            | ommited in value  |
|           |                    |      |          |                    |                 |            | string.           |
+-----------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| b         | xy (2019-02-19T01: |      | finetime | (0, 9876543210123  | 1958-01-01T00:0 | %Y-%m-%dT% | date param        |
|           | 02:03.456789       |      |          | 456): xy           | 0:00.000099 99  | H:%M:%S.%f |                   |
|           | 1929229360456789)  |      |          |                    |                 |            |                   |
+-----------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| c         | Invalid (IJK)      |      | string   | '': empty          | cliche          | B          | this is a string  |
|           |                    |      |          |                    |                 |            | parameter. but    |
|           |                    |      |          |                    |                 |            | only "" is        |
|           |                    |      |          |                    |                 |            | allowed.          |
+-----------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| d         | off (0b00)         | None | binary   | 11000 0b01: on     | 0b0             | H          | valid rules       |
|           |                    |      |          | 11000 0b00: off    |                 |            | described with    |
|           |                    |      |          |                    |                 |            | binary masks      |
+-----------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| m1        | 2.3                | sec  | float    | None               | None            | None       | a different param |
|           |                    |      |          |                    |                 |            | in metadata       |
+-----------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| listeners | <No listener>      |      |          |                    |                 |            |                   |
+-----------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+

                                       Total 2 Sub-Datasets: "dataset 1", "dataset 2"                                       

SubDataset  "dataset 1":
                                             __________________________________                                             
                                             *** ArrayDataset (arraydset 1) ***                                             
                                                            META                                                            
+-------------+---------------+------+--------+-------+--------------+------+------------------+
| name        | value         | unit | type   | valid | default      | code | description      |
+=============+===============+======+========+=======+==============+======+==================+
| description | arraydset 1   |      | string | None  | UNKNOWN      | B    | Description of   |
|             |               |      |        |       |              |      | this dataset     |
+-------------+---------------+------+--------+-------+--------------+------+------------------+
| shape       | (3,)          |      | tuple  | None  | ()           |      | Number of        |
|             |               |      |        |       |              |      | elements in each |
|             |               |      |        |       |              |      | dimension. Quick |
|             |               |      |        |       |              |      | changers to the  |
|             |               |      |        |       |              |      | right.           |
+-------------+---------------+------+--------+-------+--------------+------+------------------+
| type        | ArrayDataset  |      | string | None  | ArrayDataset | B    | Data Type        |
|             |               |      |        |       |              |      | identification.  |
+-------------+---------------+------+--------+-------+--------------+------+------------------+
| unit        | ev            |      | string | None  | None         | B    | Unit of every    |
|             |               |      |        |       |              |      | element.         |
+-------------+---------------+------+--------+-------+--------------+------+------------------+
| typecode    | UNKNOWN       |      | string | None  | UNKNOWN      | B    | Python internal  |
|             |               |      |        |       |              |      | storage code.    |
+-------------+---------------+------+--------+-------+--------------+------+------------------+
| version     | 0.1           |      | string | None  | 0.1          | B    | Version of       |
|             |               |      |        |       |              |      | dataset          |
+-------------+---------------+------+--------+-------+--------------+------+------------------+
| FORMATV     | 1.6.0.2       |      | string | None  | 1.6.0.2      | B    | Version of       |
|             |               |      |        |       |              |      | dataset schema   |
|             |               |      |        |       |              |      | and revision     |
+-------------+---------------+------+--------+-------+--------------+------+------------------+
| listeners   | <No listener> |      |        |       |              |      |                  |
+-------------+---------------+------+--------+-------+--------------+------+------------------+
                                                            DATA                                                            
                                                            ----                                                            
768  4.4  5400
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

SubDataset  "dataset 2":
                                            ____________________________________                                            
                                            *** TableDataset (Example table) ***                                            
                                                            META                                                            
+-------------+---------------+------+--------+-------+--------------+------+-------------------+
| name        | value         | unit | type   | valid | default      | code | description       |
+=============+===============+======+========+=======+==============+======+===================+
| description | Example table |      | string | None  | UNKNOWN      | B    | Description of    |
|             |               |      |        |       |              |      | this dataset      |
+-------------+---------------+------+--------+-------+--------------+------+-------------------+
| shape       | (2, 5)        |      | tuple  | None  | ()           |      | Number of columns |
|             |               |      |        |       |              |      | and rows.         |
+-------------+---------------+------+--------+-------+--------------+------+-------------------+
| type        | TableDataset  |      | string | None  | TableDataset | B    | Data Type         |
|             |               |      |        |       |              |      | identification.   |
+-------------+---------------+------+--------+-------+--------------+------+-------------------+
| version     | 0.1           |      | string | None  | 0.1          | B    | Version of        |
|             |               |      |        |       |              |      | dataset           |
+-------------+---------------+------+--------+-------+--------------+------+-------------------+
| FORMATV     | 1.6.0.2       |      | string | None  | 1.6.0.2      | B    | Version of        |
|             |               |      |        |       |              |      | dataset schema    |
|             |               |      |        |       |              |      | and revision      |
+-------------+---------------+------+--------+-------+--------------+------+-------------------+
| listeners   | <No listener> |      |        |       |              |      |                   |
+-------------+---------------+------+--------+-------+--------------+------+-------------------+
                                                            DATA                                                            
                                                            ----                                                            
 Time  Energy
(sec)    (eV)
-----  ------
    0     100
    1     102
    2     104
    3     106
    4     108

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


============================================================================================================================
level 1, repr
                    *** CompositeDataset () ***                    

-------------  --------------------------  ------------------------
a= 3.4         b= xy (2019-02-19T01:02:03  c= Invalid (IJK)
               .456789
               1929229360456789)
d= off (0b00)  m1= 2.3                     listeners= <No listener>
-------------  --------------------------  ------------------------


           Total 2 Sub-Datasets: "dataset 1", "dataset 2"          

SubDataset  "dataset 1":
                 *** ArrayDataset (arraydset 1) ***                

------------------------  ------------------------  ------------------
description= arraydset 1  shape= (3,)               type= ArrayDataset
unit= ev                  typecode= UNKNOWN         version= 0.1
FORMATV= 1.6.0.2          listeners= <No listener>
------------------------  ------------------------  ------------------

768  4.4  5400
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

SubDataset  "dataset 2":
                *** TableDataset (Example table) ***               

--------------------------  ----------------  ------------------------
description= Example table  shape= (2, 5)     type= TableDataset
version= 0.1                FORMATV= 1.6.0.2  listeners= <No listener>
--------------------------  ----------------  ------------------------

 Time  Energy
(sec)    (eV)
-----  ------
    0     100
    1     102
    2     104
    3     106
    4     108

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


===================================================================

level 2,
CompositeDataset(META: a, b, c, d, m1 DATA: dataset 1, dataset 2)
level 0, html
                                                ***************************                                                 
                                                *** CompositeDataset () ***                                                 
                                                            META                                                            
+-----------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| name      | value              | unit | type     | valid              | default         | code       | description       |
+===========+====================+======+==========+====================+=================+============+===================+
| a         | 3.4                | None | float    | (0, 31): valid 99: | 2.0             | None       | rule name, if is  |
|           |                    |      |          |                    |                 |            | "valid", "", or   |
|           |                    |      |          |                    |                 |            | "default", is     |
|           |                    |      |          |                    |                 |            | ommited in value  |
|           |                    |      |          |                    |                 |            | string.           |
+-----------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| b         | xy (2019-02-19T01: |      | finetime | (0, 9876543210123  | 1958-01-01T00:0 | %Y-%m-%dT% | date param        |
|           | 02:03.456789       |      |          | 456): xy           | 0:00.000099 99  | H:%M:%S.%f |                   |
|           | 1929229360456789)  |      |          |                    |                 |            |                   |
+-----------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| c         | Invalid (IJK)      |      | string   | '': empty          | cliche          | B          | this is a string  |
|           |                    |      |          |                    |                 |            | parameter. but    |
|           |                    |      |          |                    |                 |            | only "" is        |
|           |                    |      |          |                    |                 |            | allowed.          |
+-----------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| d         | off (0b00)         | None | binary   | 11000 0b01: on     | 0b0             | H          | valid rules       |
|           |                    |      |          | 11000 0b00: off    |                 |            | described with    |
|           |                    |      |          |                    |                 |            | binary masks      |
+-----------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| m1        | 2.3                | sec  | float    | None               | None            | None       | a different param |
|           |                    |      |          |                    |                 |            | in metadata       |
+-----------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+
| listeners | <No listener>      |      |          |                    |                 |            |                   |
+-----------+--------------------+------+----------+--------------------+-----------------+------------+-------------------+

                                       Total 2 Sub-Datasets: "dataset 1", "dataset 2"                                       

SubDataset  "dataset 1":
                                             __________________________________                                             
                                             *** ArrayDataset (arraydset 1) ***                                             
                                                            META                                                            
+-------------+---------------+------+--------+-------+--------------+------+------------------+
| name        | value         | unit | type   | valid | default      | code | description      |
+=============+===============+======+========+=======+==============+======+==================+
| description | arraydset 1   |      | string | None  | UNKNOWN      | B    | Description of   |
|             |               |      |        |       |              |      | this dataset     |
+-------------+---------------+------+--------+-------+--------------+------+------------------+
| shape       | (3,)          |      | tuple  | None  | ()           |      | Number of        |
|             |               |      |        |       |              |      | elements in each |
|             |               |      |        |       |              |      | dimension. Quick |
|             |               |      |        |       |              |      | changers to the  |
|             |               |      |        |       |              |      | right.           |
+-------------+---------------+------+--------+-------+--------------+------+------------------+
| type        | ArrayDataset  |      | string | None  | ArrayDataset | B    | Data Type        |
|             |               |      |        |       |              |      | identification.  |
+-------------+---------------+------+--------+-------+--------------+------+------------------+
| unit        | ev            |      | string | None  | None         | B    | Unit of every    |
|             |               |      |        |       |              |      | element.         |
+-------------+---------------+------+--------+-------+--------------+------+------------------+
| typecode    | UNKNOWN       |      | string | None  | UNKNOWN      | B    | Python internal  |
|             |               |      |        |       |              |      | storage code.    |
+-------------+---------------+------+--------+-------+--------------+------+------------------+
| version     | 0.1           |      | string | None  | 0.1          | B    | Version of       |
|             |               |      |        |       |              |      | dataset          |
+-------------+---------------+------+--------+-------+--------------+------+------------------+
| FORMATV     | 1.6.0.2       |      | string | None  | 1.6.0.2      | B    | Version of       |
|             |               |      |        |       |              |      | dataset schema   |
|             |               |      |        |       |              |      | and revision     |
+-------------+---------------+------+--------+-------+--------------+------+------------------+
| listeners   | <No listener> |      |        |       |              |      |                  |
+-------------+---------------+------+--------+-------+--------------+------+------------------+
                                                            DATA                                                            
                                                            ----                                                            
768  4.4  5400
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

SubDataset  "dataset 2":
                                            ____________________________________                                            
                                            *** TableDataset (Example table) ***                                            
                                                            META                                                            
+-------------+---------------+------+--------+-------+--------------+------+-------------------+
| name        | value         | unit | type   | valid | default      | code | description       |
+=============+===============+======+========+=======+==============+======+===================+
| description | Example table |      | string | None  | UNKNOWN      | B    | Description of    |
|             |               |      |        |       |              |      | this dataset      |
+-------------+---------------+------+--------+-------+--------------+------+-------------------+
| shape       | (2, 5)        |      | tuple  | None  | ()           |      | Number of columns |
|             |               |      |        |       |              |      | and rows.         |
+-------------+---------------+------+--------+-------+--------------+------+-------------------+
| type        | TableDataset  |      | string | None  | TableDataset | B    | Data Type         |
|             |               |      |        |       |              |      | identification.   |
+-------------+---------------+------+--------+-------+--------------+------+-------------------+
| version     | 0.1           |      | string | None  | 0.1          | B    | Version of        |
|             |               |      |        |       |              |      | dataset           |
+-------------+---------------+------+--------+-------+--------------+------+-------------------+
| FORMATV     | 1.6.0.2       |      | string | None  | 1.6.0.2      | B    | Version of        |
|             |               |      |        |       |              |      | dataset schema    |
|             |               |      |        |       |              |      | and revision      |
+-------------+---------------+------+--------+-------+--------------+------+-------------------+
| listeners   | <No listener> |      |        |       |              |      |                   |
+-------------+---------------+------+--------+-------+--------------+------+-------------------+
                                                            DATA                                                            
                                                            ----                                                            
 Time  Energy
(sec)    (eV)
-----  ------
    0     100
    1     102
    2     104
    3     106
    4     108

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


============================================================================================================================
"""
out_FineTime = """toString test
=========== format: "%Y-%m-%dT%H:%M:%S.%f" =======
FineTime
level=0 width=0: 2019-02-19T01:02:03.456789 TAI(1929229360456789) format=%Y-%m-%dT%H:%M:%S.%f
level=1 width=0: 2019-02-19T01:02:03.456789 (1929229360456789)
level=2 width=0: FineTime(2019-02-19T01:02:03.456789)
level=0 width=1: 2019-02-19T01:02:03.456789
1929229360456789
level=1 width=1: 2019-02-19T01:02:03.456789
1929229360456789
level=2 width=1: FineTime(2019-02-19
01:02:03.456789)
FineTime1
level=0 width=0: 2019-02-19T01:02:03.457000 TAI(67309323457) format=%Y-%m-%dT%H:%M:%S.%f
level=1 width=0: 2019-02-19T01:02:03.457000 (67309323457)
level=2 width=0: FineTime1(2019-02-19T01:02:03.457000)
level=0 width=1: 2019-02-19T01:02:03.457000
67309323457
level=1 width=1: 2019-02-19T01:02:03.457000
67309323457
level=2 width=1: FineTime1(2019-02-19
01:02:03.457000)
=========== format: "%Y" =======
FineTime
level=0 width=0: 2019 TAI(1929229360456789) format=%Y
level=1 width=0: 2019 (1929229360456789)
level=2 width=0: FineTime(2019)
level=0 width=1: 2019
1929229360456789
level=1 width=1: 2019
1929229360456789
level=2 width=1: FineTime(2019)
FineTime1
level=0 width=0: 2019 TAI(67309323457) format=%Y
level=1 width=0: 2019 (67309323457)
level=2 width=0: FineTime1(2019)
level=0 width=1: 2019
67309323457
level=1 width=1: 2019
67309323457
level=2 width=1: FineTime1(2019)
"""
