; Settings for the diamond solver.  The most important settings are the solver type, the z_mesh_defintion and the
; q_external_definition.
;
; z_mesh can be auto generated, or can be directly specified as a range or list of ranges.  - Broken
; auto generation relies on the specified diamond_thickness and z_mesh_maxpoints to make a controlled guess. - Broken
; This follows the typical python range, [start, stop, step], and is half open [start, stop). if you specify a list
; make sure it is in order, and avoid having overlaps, i,e, stop_range1 = < start>range2.
;
; External charges are fixed external source of charge at the surface or interface.  Not affected by the surface
; potential, vs.  Useful for determining how vs changes with charge for a wide range of situations.
; q external definition takes a line-space [start, stop, number of points], so the number of solutions you want can be easily controlled.

[DiamondBandSolve]
solver_type = None ;  see diamondsolve --solver-types for options.
z_mesh_definition = [[0, 2e-5, 5e-10], [2e-5, 1.00006e-4, 50e-9]] ;  auto or list of ranges.
q_external_definition = [1e12, 5e13, 3] ; Top surface external charge.
q_externalback_definition = None ; Back surface external charge.
length_units = cm ; Input/Output units  (m, cm, um, nm, A, a0)
energy_units: ev ; (ev, J, Eh)  # For the FOM file, solution meshes is in unitless potential multiply by kT to get units.

[SolverBase]
; final solver step to step change to consider solved.
iter_max = 100000.0 ; 
accuracy = 1e-06 ; Converging beyond 1e-7 often time-limited by floating point precision.

[FiguresOfMerit]
; settings for the figures of merit (fom) file, simple mathematical equations can be accepted here and the charged
; defect populations can be addressed.  i.e. the amount of negatively charged defect could be added with nv-.
; the percentage ratio could be added with nv- / nv.  spaces must be between each variable or operator.
; as many rows as required can be added.  defect names are those specified in the defects.ini.
row0 = Qexternal ; 
row1 = Ef ; 
row2 =  ; 
row3 =  ; 

[DefectDefinition]
; definition of a parameters used to calculate the occupancy of defect sub-bands.
density_file_comments = # ; 
temperature_k = 300 ;
subband_convolution_v_linspace = [-5.4, 5.4, 10000] ;
subband_convolution_variable_bounds_multiplier = 7.6 ;
subband_convolution_variable_step = 0.01 ;

[PoissonEquations]
; specific settings for poisson equations.
temperature_k = 300 ;  in Kelvin
epsilond = 5.8 ;  dielectric constant of diamond
diamond_electron_mass = 0.22 ; 
diamond_light_hole_mass = 0.303 ; 
diamond_heavy_hole_mass = 0.588 ; 
diamond_splitoff_hole_mass = 0.394 ; 
splitoff_hole_delta_energy = 0.006 ;  in eV
diamond_band_gap = 5.45 ;  in eV
fermi_solve_brentq_tol = 1e-10 ;  Root finding tollerance for Fermi level calculation.

[SchrodingerPoissonNRSolver]
; specific settings for schrodiner-poisson nr-solver.
derivativeorder = 4 ; 
omega_nr_s = 0.1 ; 
extraphantompts = 10 ; 

[PoissonNRSolver]
; specific settings for poisson nr-solver.
derivative_order = 4 ; 
omega_nr = 0.5 ; 
extra_phantom_pts = 10 ; 
omega_nr_min = 0
omega_nr_max = 0.8
wolfe_c1 = 0.0001
wolfe_c2 = 0.99
ratio_of_convergence = 0.2

[PoissonRelaxationSolver]
; specific settings for poisson relaxation-solver.
omega_min = 5e-07 ; 
omega_max = 0.1 ; 
omega_inital = 1e-05 ; 

[SchrodingerPoissonEquations]
; specific settings for schrodinger-poisson equations.
numbasisvec = 10 ; 
has_back = True ; 
numeigenstates = 5 ; 
usevxc = True

[GeneralSettings]
; this should be automatically correct.  if you move files you'll need to update these values.
settings_file = None
local_dir = .

